<html>
<head>
    <title>Poste seu Comentario</title>
    <link rel="stylesheet" type="text/css" href="/styles/styles_navegacao_telas.css">
</head>
<body class="registrar_comentario">
    <a href="/cadastros/perfil.html">
        <input type="button" value="Meu perfil" id="meuPerfil" class="meuPerfil">
    </a>
    <a href="/cadastros/feed.html">
        <input type="button" value="Voltar para o Feed" id="voltarFeed" class="voltarFeed">
    </a>
    <h1 id="subTiFeed">Cadastrar Comentário</h1>

    <div id="conteinerComentar">
        <form action="/pdo/pdo_cadastrar_comentario.php" method="post">
            <p>Usuários:</p>
            <select name="idUsuario" id="idUsuario"><option value="1">Tiago Stasaitis</option></select>
            <p>Músicas:</p>
            <select name="idMusica" id="idMusica"></select>
            <textarea maxlength="300" name="comentario" placeholder="Insira aqui seu comentário..."></textarea>
            <input type="submit" value="Enviar Comentario" />
        </form>
    </div>

    <script>
        window.onload = function carregarParametros() {

            //--> Busca Músicas Cadastradas
            var urlMusica = "/pdo/select_musica.php";
            var xhttpMusica = new XMLHttpRequest();
            xhttpMusica.open("GET", urlMusica, false);
            xhttpMusica.send();

            var retornoMusica = JSON.parse(xhttpMusica.responseText);
            var selecaoMusica = document.getElementById("idMusica");

            for (i = 0; i < retornoMusica.length; i++) {
                var opcaoMusica = document.createElement("option");
                opcaoMusica.value = retornoMusica[i].id;
                opcaoMusica.innerText = retornoMusica[i].nome;
                selecaoMusica.appendChild(opcaoMusica);
            }

            //--> Busca Usuários Cadastrados
//            var urlUsuario = "/pdo/select_usuario.php";
//            var xhttpUsuario = new XMLHttpRequest();
//            xhttpUsuario.open("GET", urlUsuario, false);
//            xhttpUsuario.send();

//            var retornoUsuario = JSON.parse(xhttpUsuario.responseText);
//            var selecaoUsuario = document.getElementById("idUsuario");

//            for (i = 0; i < retornoUsuario.length; i++) {
//                var opcaoUsuario = document.createElement("option");
//                opcaoUsuario.value = retornoUsuario[i].id;
//                opcaoUsuario.innerText = retornoUsuario[i].nome;
//                selecaoUsuario.appendChild(opcaoUsuario);
//            }

        }
    </script>
</body>
</html>
